<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Physio - The Therapeutic Moves</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #e8f5f3 0%, #f8f9fa 100%);
        }

        /* Header Styles - Made thinner and auto-hide */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 0.5rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease-in-out;
            height: 50px;
        }

        .header.hidden {
            transform: translateY(-100%);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #2c8577;
            font-weight: 700;
            font-size: 0.9rem;
        }

        .logo-placeholder {
            width: 28px;
            height: 28px;
            background: #e8f5f3;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #2c8577;
            font-weight: bold;
            font-size: 0.7rem;
        }

        .hamburger {
            display: flex;
            flex-direction: column;
            cursor: pointer;
            padding: 3px;
        }

        .hamburger span {
            width: 20px;
            height: 2px;
            background: #2c8577;
            margin: 1.5px 0;
            transition: 0.3s;
            border-radius: 1px;
        }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 280px;
            height: 100vh;
            background: white;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 1001;
            transition: right 0.3s ease;
            padding: 2rem 0;
        }

        .mobile-menu.active {
            right: 0;
        }

        .mobile-menu ul {
            list-style: none;
            padding: 0;
        }

        .mobile-menu ul li {
            padding: 1rem 2rem;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background 0.3s;
            font-size: 1rem;
        }

        .mobile-menu ul li:hover {
            background: #f8f9fa;
        }

        .mobile-menu ul li:last-child {
            margin-top: 2rem;
            background: #e8f5f3;
            color: #2c8577;
            font-weight: 600;
        }

        .close-menu {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #2c8577;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Main Content */
        .main {
            margin-top: 50px;
        }

        /* Page container for separate pages */
        .page {
            display: none;
            min-height: calc(100vh - 50px);
            padding: 1rem;
        }

        .page.active {
            display: block;
        }

        .page-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-top: 1rem;
        }

        .page-title {
            font-size: 2rem;
            color: #2c8577;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .back-btn {
            position: fixed;
            top: 60px;
            left: 1rem;
            background: #2c8577;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(44, 133, 119, 0.3);
        }

        .back-btn:hover {
            background: #245a4f;
            transform: translateY(-2px);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #2c8577 0%, #4a9b8c 100%);
            color: white;
            text-align: center;
            padding: 2.5rem 1.5rem;
            min-height: 350px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="0.1" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,112C672,96,768,96,864,112C960,128,1056,160,1152,160C1248,160,1344,128,1392,112L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') bottom/100% auto no-repeat;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero h1 {
            font-size: 2.2rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .hero .tagline {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            opacity: 0.9;
        }

        .btn {
            display: inline-block;
            padding: 0.9rem 1.8rem;
            background: #fff;
            color: #2c8577;
            text-decoration: none;
            border-radius: 40px;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 0.95rem;
            margin: 0.5rem;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .btn-primary {
            background: #2c8577;
            color: white;
        }

        .phone-number {
            margin-top: 1rem;
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.9);
        }

        /* Section Styles */
        .section {
            padding: 1.5rem;
        }

        .section-title {
            text-align: center;
            font-size: 1.6rem;
            color: #2c8577;
            margin-bottom: 1.2rem;
            font-weight: 700;
        }

        /* Homepage Doctors Section - Made smaller and more rounded */
        .doctors-preview {
            text-align: center;
            padding: 1.2rem;
            background: rgba(255, 255, 255, 0.7);
            margin: 1rem;
            border-radius: 25px;
        }

        .doctors-preview .section-title {
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }

        .doctors-preview-container {
            display: flex;
            justify-content: center;
            gap: 0.8rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .doctor-preview-card {
            width: 100px;
            background: white;
            border-radius: 20px;
            padding: 0.8rem;
            text-align: center;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s;
            cursor: pointer;
        }

        .doctor-preview-card:hover {
            transform: translateY(-3px);
        }

        .doctor-preview-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, #e8f5f3 0%, #d1f2eb 100%);
            margin: 0 auto 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            color: #2c8577;
        }

        .doctor-preview-name {
            font-size: 0.8rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.2rem;
        }

        .doctor-preview-qualification {
            color: #666;
            font-size: 0.7rem;
        }

        .view-all-btn {
            background: #2c8577;
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 20px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-block;
            font-size: 0.9rem;
        }

        .view-all-btn:hover {
            background: #245a4f;
            transform: translateY(-2px);
        }

        /* Homepage Services and Products Sections */
        .services-preview, .products-preview {
            padding: 1.5rem;
            margin: 1rem;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 20px;
        }

        .services-preview-grid, .products-preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .service-preview-card, .product-preview-card {
            background: white;
            border-radius: 15px;
            padding: 1.2rem;
            text-align: center;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s;
            cursor: pointer;
        }

        .service-preview-card:hover, .product-preview-card:hover {
            transform: translateY(-3px);
        }

        .service-preview-image, .product-preview-image {
            width: 100%;
            height: 100px;
            background: linear-gradient(135deg, #e8f5f3 0%, #d1f2eb 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #2c8577;
            margin-bottom: 0.8rem;
        }

        .service-preview-title, .product-preview-title {
            font-size: 1rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .service-preview-description, .product-preview-description {
            color: #666;
            font-size: 0.85rem;
            margin-bottom: 0.8rem;
        }

        .product-preview-price {
            color: #2c8577;
            font-weight: 700;
            font-size: 1.1rem;
        }

        /* Full page sections */
        .doctors-container, .services-container, .products-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            padding: 1rem 0;
            margin-top: 3rem;
        }

        .doctor-card, .service-card, .product-card {
            background: white;
            border-radius: 18px;
            padding: 1.8rem;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s;
        }

        .doctor-card:hover, .service-card:hover, .product-card:hover {
            transform: translateY(-4px);
        }

        .doctor-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, #e8f5f3 0%, #d1f2eb 100%);
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: #2c8577;
        }

        .doctor-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .doctor-qualification {
            color: #666;
            margin-bottom: 0.8rem;
        }

        .doctor-fees {
            color: #2c8577;
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 1rem;
        }

        /* Service styles */
        .service-image {
            width: 100%;
            height: 130px;
            background: linear-gradient(135deg, #e8f5f3 0%, #d1f2eb 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: #2c8577;
            margin-bottom: 1rem;
        }

        .service-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .service-description {
            color: #666;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        /* Product styles */
        .product-image {
            width: 100%;
            height: 160px;
            background: linear-gradient(135deg, #e8f5f3 0%, #d1f2eb 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #2c8577;
            margin-bottom: 1rem;
        }

        .product-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .product-description {
            color: #666;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .product-price {
            font-size: 1.3rem;
            font-weight: 700;
            color: #2c8577;
            margin-bottom: 1rem;
        }

        /* Doctor Details Modal */
        .doctor-details {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .doctor-details-content {
            background-color: white;
            margin: 10% auto;
            padding: 2rem;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            position: relative;
            text-align: center;
        }

        .doctor-details-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, #e8f5f3 0%, #d1f2eb 100%);
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: #2c8577;
        }

        /* Admin Login Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .modal-content {
            background-color: white;
            margin: 15% auto;
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 400px;
            position: relative;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            right: 1rem;
            top: 1rem;
        }

        .close:hover {
            color: #2c8577;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
            font-weight: 600;
        }

        .form-group input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e8f5f3;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #2c8577;
        }

        /* Admin Dashboard */
        .admin-dashboard {
            display: none;
            padding: 2rem;
            background: white;
            margin: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .dashboard-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            border: 2px solid #e8f5f3;
            border-radius: 10px;
        }

        .dashboard-section h3 {
            color: #2c8577;
            margin-bottom: 1rem;
        }

        /* Service Details Modal */
        .service-details {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .service-details-content {
            background-color: white;
            margin: 10% auto;
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            position: relative;
            max-height: 70vh;
            overflow-y: auto;
        }

        .test-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid #f0f0f0;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header {
                padding: 0.5rem 1rem;
            }

            .logo {
                font-size: 0.8rem;
            }

            .hero h1 {
                font-size: 1.8rem;
            }

            .hero .tagline {
                font-size: 1rem;
            }

            .section {
                padding: 1rem;
            }

            .doctors-preview-container {
                gap: 0.5rem;
            }

            .doctor-preview-card {
                width: 90px;
                padding: 0.6rem;
            }

            .page {
                padding: 0.5rem;
            }

            .doctors-container, .services-container, .products-container {
                grid-template-columns: 1fr;
                gap: 1.2rem;
                margin-top: 2rem;
            }

            .services-preview-grid, .products-preview-grid {
                grid-template-columns: 1fr;
            }

            .back-btn {
                top: 55px;
                font-size: 0.8rem;
                padding: 0.4rem 0.8rem;
            }

            .page-title {
                font-size: 1.6rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">
        <div class="logo">
            <div class="logo-placeholder">LOGO</div>
            <span id="clinicName">Physio - The Therapeutic Moves</span>
        </div>
        <div class="hamburger" onclick="toggleMenu()">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <button class="close-menu" onclick="toggleMenu()">&times;</button>
        <ul>
            <li onclick="showPage('home')">Home</li>
            <li onclick="showPage('doctors')">Doctors</li>
            <li onclick="showPage('services')">Services</li>
            <li onclick="showPage('products')">Products</li>
            <li onclick="showAdminLogin()">Admin Login</li>
        </ul>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay" onclick="toggleMenu()"></div>

    <!-- Main Content -->
    <main class="main">
        <!-- Home Page -->
        <div class="page active" id="homePage">
            <!-- Hero Section -->
            <section class="hero">
                <div class="hero-content">
                    <h1 id="heroTitle">Therapeutic Moves</h1>
                    <p class="tagline" id="heroTagline">"We add life in your days."</p>
                    <button class="btn" onclick="bookAppointment()">Book Appointment</button>
                    <div class="phone-number" id="phoneNumber">üìû +91 9641568109</div>
                </div>
            </section>

            <!-- Doctors Preview Section -->
            <section class="doctors-preview">
                <h2 class="section-title">Our Expert Team</h2>
                <div class="doctors-preview-container" id="doctorsPreview">
                    <!-- Preview doctors will be loaded here -->
                </div>
                <a href="#" class="view-all-btn" onclick="showPage('doctors')">View All Doctors</a>
            </section>

            <!-- Services Preview Section -->
            <section class="services-preview">
                <h2 class="section-title">Our Services</h2>
                <div class="services-preview-grid" id="servicesPreview">
                    <!-- Preview services will be loaded here -->
                </div>
                <a href="#" class="view-all-btn" onclick="showPage('services')">View All Services</a>
            </section>

            <!-- Products Preview Section -->
            <section class="products-preview">
                <h2 class="section-title">Our Products</h2>
                <div class="products-preview-grid" id="productsPreview">
                    <!-- Preview products will be loaded here -->
                </div>
                <a href="#" class="view-all-btn" onclick="showPage('products')">View All Products</a>
            </section>
        </div>

        <!-- Doctors Page -->
        <div class="page" id="doctorsPage">
            <button class="back-btn" onclick="showPage('home')">‚Üê Back</button>
            <div class="page-header">
                <h1 class="page-title">Our Doctors</h1>
            </div>
            <div class="doctors-container" id="doctorsContainer">
                <!-- Doctors will be loaded here -->
            </div>
        </div>

        <!-- Services Page -->
        <div class="page" id="servicesPage">
            <button class="back-btn" onclick="showPage('home')">‚Üê Back</button>
            <div class="page-header">
                <h1 class="page-title">Our Services</h1>
            </div>
            <div class="services-container" id="servicesContainer">
                <!-- Services will be loaded here -->
            </div>
        </div>

        <!-- Products Page -->
        <div class="page" id="productsPage">
            <button class="back-btn" onclick="showPage('home')">‚Üê Back</button>
            <div class="page-header">
                <h1 class="page-title">Our Products</h1>
            </div>
            <div class="products-container" id="productsContainer">
                <!-- Products will be loaded here -->
            </div>
        </div>
    </main>

    <!-- Doctor Details Modal -->
    <div id="doctorDetailsModal" class="doctor-details">
        <div class="doctor-details-content">
            <span class="close" onclick="closeDoctorDetails()">&times;</span>
            <div class="doctor-details-avatar" id="doctorDetailsAvatar">üë®‚Äç‚öïÔ∏è</div>
            <h2 id="doctorDetailsName" style="color: #2c8577; margin-bottom: 0.5rem;"></h2>
            <p id="doctorDetailsQualification" style="color: #666; margin-bottom: 1rem;"></p>
            <div id="doctorDetailsFees" style="color: #2c8577; font-weight: 700; font-size: 1.2rem; margin-bottom: 1rem;"></div>
            <p id="doctorDetailsDescription" style="color: #666; margin-bottom: 2rem;"></p>
            <button class="btn btn-primary" id="doctorDetailsBookBtn">Book Appointment</button>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAdminModal()">&times;</span>
            <h2 style="color: #2c8577; margin-bottom: 1rem;">Admin Login</h2>
            <form id="adminLoginForm">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
            </form>
        </div>
    </div>

    <!-- Service Details Modal -->
    <div id="serviceDetailsModal" class="service-details">
        <div class="service-details-content">
            <span class="close" onclick="closeServiceDetails()">&times;</span>
            <h2 id="serviceDetailsTitle" style="color: #2c8577; margin-bottom: 1rem;"></h2>
            <div id="serviceDetailsContent">
                <!-- Service details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div class="admin-dashboard" id="adminDashboard">
        <div class="dashboard-header">
            <h2 style="color: #2c8577;">Admin Dashboard</h2>
            <button class="btn" onclick="logout()">Logout</button>
        </div>

        <div class="dashboard-section">
            <h3>Hero Section</h3>
            <div class="form-group">
                <label>Clinic Name:</label>
                <input type="text" id="editClinicName" placeholder="Clinic Name">
            </div>
            <div class="form-group">
                <label>Hero Title:</label>
                <input type="text" id="editHeroTitle" placeholder="Hero Title">
            </div>
            <div class="form-group">
                <label>Tagline:</label>
                <input type="text" id="editTagline" placeholder="Tagline">
            </div>
            <div class="form-group">
                <label>Phone Number:</label>
                <input type="text" id="editPhone" placeholder="Phone Number">
            </div>
            <button class="btn btn-primary" onclick="updateHero()">Update Hero Section</button>
        </div>

        <div class="dashboard-section">
            <h3>Doctors</h3>
            <button class="btn btn-primary" onclick="addDoctor()">Add New Doctor</button>
            <div id="doctorsManagement">
                <!-- Doctor management will be loaded here -->
            </div>
        </div>

        <div class="dashboard-section">
            <h3>Services</h3>
            <button class="btn btn-primary" onclick="addService()">Add New Service</button>
            <div id="servicesManagement">
                <!-- Services management will be loaded here -->
            </div>
        </div>

        <div class="dashboard-section">
            <h3>Products</h3>
            <button class="btn btn-primary" onclick="addProduct()">Add New Product</button>
            <div id="productsManagement">
                <!-- Products management will be loaded here -->
            </div>
        </div>
    </div>

    <script type="module">
        // Firebase Configuration
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js';
        import { getDatabase, ref, get, set, push } from 'https://www.gstatic.com/firebasejs/9.0.0/firebase-database.js';
        import { getAuth, signInWithEmailAndPassword, signOut } from 'https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js';

        const firebaseConfig = {
            apiKey: "AIzaSyAuk3feAZjoHF2VwdWtA0F4lhQKarU0w-4",
            authDomain: "clinic-bdf92.firebaseapp.com",
            databaseURL: "https://clinic-bdf92-default-rtdb.firebaseio.com",
            projectId: "clinic-bdf92",
            storageBucket: "clinic-bdf92.firebasestorage.app",
            messagingSenderId: "302452317883",
            appId: "1:302452317883:web:6585bf22ea1a7f3a96939e",
            measurementId: "G-XZXEVNMVRS"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const auth = getAuth(app);

        // Global variables
        window.siteData = {
            hero: {
                clinicName: "Physio - The Therapeutic Moves",
                title: "Therapeutic Moves",
                tagline: '"We add life in your days."',
                phone: "+91 9641568109"
            },
            doctors: [
                {
                    id: 1,
                    name: "Dr. Arpan Das",
                    qualification: "BPT",
                    fees: "‚Çπ500",
                    details: "Experienced physiotherapist specializing in sports injuries and rehabilitation. With over 8 years of experience, Dr. Arpan has helped countless patients recover from injuries and improve their quality of life."
                },
                {
                    id: 2,
                    name: "Dr. Jhunu Das",
                    qualification: "DPT",
                    fees: "‚Çπ600",
                    details: "Expert in neurological rehabilitation and pediatric physiotherapy. Dr. Jhunu specializes in treating children and adults with neurological conditions and has extensive training in advanced therapeutic techniques."
                },
                {
                    id: 3,
                    name: "Dr. Apurba Das",
                    qualification: "DPT",
                    fees: "‚Çπ600",
                    details: "Specialist in orthopedic conditions and manual therapy techniques. Dr. Apurba focuses on treating musculoskeletal disorders and has specialized training in manual therapy and pain management."
                }
            ],
            services: [
                {
                    id: 1,
                    title: "Physical Therapy",
                    description: "Comprehensive physical rehabilitation and therapeutic exercises.",
                    icon: "üèÉ‚Äç‚ôÇÔ∏è",
                    tests: [
                        { name: "Movement Assessment", price: "‚Çπ300" },
                        { name: "Strength Testing", price: "‚Çπ250" },
                        { name: "Range of Motion Test", price: "‚Çπ200" }
                    ]
                },
                {
                    id: 2,
                    title: "Pain Management",
                    description: "Specialized treatment for chronic and acute pain conditions.",
                    icon: "üíä",
                    tests: [
                        { name: "Pain Assessment", price: "‚Çπ400" },
                        { name: "Trigger Point Therapy", price: "‚Çπ600" },
                        { name: "TENS Therapy", price: "‚Çπ500" }
                    ]
                },
                {
                    id: 3,
                    title: "Sports Rehabilitation",
                    description: "Recovery programs for sports-related injuries and performance enhancement.",
                    icon: "‚öΩ",
                    tests: [
                        { name: "Sports Injury Assessment", price: "‚Çπ500" },
                        { name: "Performance Analysis", price: "‚Çπ700" },
                        { name: "Return to Sport Testing", price: "‚Çπ600" }
                    ]
                }
            ],
            products: [
                {
                    id: 1,
                    name: "Lumbar Support Belt",
                    description: "Medical grade lumbar support for back pain relief",
                    price: "‚Çπ1200",
                    image: "üéí"
                },
                {
                    id: 2,
                    name: "Knee Support Brace",
                    description: "Adjustable knee brace for injury support and prevention",
                    price: "‚Çπ800",
                    image: "üéí"
                },
                {
                    id: 3,
                    name: "Resistance Bands Set",
                    description: "Professional resistance bands for rehabilitation exercises",
                    price: "‚Çπ600",
                    image: "üéí"
                }
            ]
        };

        // Header auto-hide functionality
        let lastScrollTop = 0;
        const header = document.getElementById('header');

        window.addEventListener('scroll', function() {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (scrollTop > lastScrollTop && scrollTop > 80) {
                // Scrolling down & past threshold
                header.classList.add('hidden');
            } else {
                // Scrolling up
                header.classList.remove('hidden');
            }
            
            lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
        });

        // Page navigation
        window.currentPage = 'home';

        window.showPage = function(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageId + 'Page').classList.add('active');
            window.currentPage = pageId;
            
            // Close mobile menu if open
            if (document.getElementById('mobileMenu').classList.contains('active')) {
                toggleMenu();
            }
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Load data from Firebase or use default
        async function loadSiteData() {
            try {
                const snapshot = await get(ref(database, 'site'));
                if (snapshot.exists()) {
                    window.siteData = { ...window.siteData, ...snapshot.val() };
                }
            } catch (error) {
                console.log('Using default data:', error);
            }
            
            renderSite();
        }

        // Render site content
        function renderSite() {
            renderHero();
            renderDoctorsPreview();
            renderServicesPreview();
            renderProductsPreview();
            renderDoctors();
            renderServices();
            renderProducts();
        }

        function renderHero() {
            document.getElementById('clinicName').textContent = window.siteData.hero.clinicName;
            document.getElementById('heroTitle').textContent = window.siteData.hero.title;
            document.getElementById('heroTagline').textContent = window.siteData.hero.tagline;
            document.getElementById('phoneNumber').innerHTML = `üìû ${window.siteData.hero.phone}`;
        }

        function renderDoctorsPreview() {
            const container = document.getElementById('doctorsPreview');
            container.innerHTML = '';
            
            // Show only first 3 doctors
            window.siteData.doctors.slice(0, 3).forEach(doctor => {
                const doctorCard = document.createElement('div');
                doctorCard.className = 'doctor-preview-card';
                doctorCard.onclick = () => showDoctorDetails(doctor);
                doctorCard.innerHTML = `
                    <div class="doctor-preview-avatar">üë®‚Äç‚öïÔ∏è</div>
                    <div class="doctor-preview-name">${doctor.name.replace('Dr. ', '')}</div>
                    <div class="doctor-preview-qualification">${doctor.qualification}</div>
                `;
                container.appendChild(doctorCard);
            });
        }

        function renderServicesPreview() {
            const container = document.getElementById('servicesPreview');
            container.innerHTML = '';
            
            // Show only first 2 services
            window.siteData.services.slice(0, 2).forEach(service => {
                const serviceCard = document.createElement('div');
                serviceCard.className = 'service-preview-card';
                serviceCard.onclick = () => showServiceDetails(service);
                serviceCard.innerHTML = `
                    <div class="service-preview-image">${service.icon}</div>
                    <div class="service-preview-title">${service.title}</div>
                    <div class="service-preview-description">${service.description}</div>
                `;
                container.appendChild(serviceCard);
            });
        }

        function renderProductsPreview() {
            const container = document.getElementById('productsPreview');
            container.innerHTML = '';
            
            // Show only first 2 products
            window.siteData.products.slice(0, 2).forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-preview-card';
                productCard.innerHTML = `
                    <div class="product-preview-image">${product.image}</div>
                    <div class="product-preview-title">${product.name}</div>
                    <div class="product-preview-description">${product.description}</div>
                    <div class="product-preview-price">${product.price}</div>
                `;
                container.appendChild(productCard);
            });
        }

        function renderDoctors() {
            const container = document.getElementById('doctorsContainer');
            container.innerHTML = '';
            
            window.siteData.doctors.forEach(doctor => {
                const doctorCard = document.createElement('div');
                doctorCard.className = 'doctor-card';
                doctorCard.innerHTML = `
                    <div class="doctor-avatar" onclick="showDoctorDetails(${JSON.stringify(doctor).replace(/"/g, '&quot;')})" style="cursor: pointer;">üë®‚Äç‚öïÔ∏è</div>
                    <div class="doctor-name">${doctor.name}</div>
                    <div class="doctor-qualification">${doctor.qualification}</div>
                    <div class="doctor-fees">${doctor.fees}</div>
                    <p style="margin: 1rem 0; color: #666; font-size: 0.9rem;">${doctor.details}</p>
                    <button class="btn btn-primary" onclick="bookDoctorAppointment('${doctor.name}')">
                        Book Appointment
                    </button>
                `;
                container.appendChild(doctorCard);
            });
        }

        function renderServices() {
            const container = document.getElementById('servicesContainer');
            container.innerHTML = '';
            
            window.siteData.services.forEach(service => {
                const serviceCard = document.createElement('div');
                serviceCard.className = 'service-card';
                serviceCard.innerHTML = `
                    <div class="service-image">${service.icon}</div>
                    <div class="service-title">${service.title}</div>
                    <div class="service-description">${service.description}</div>
                    <button class="btn btn-primary" onclick="showServiceDetails(${JSON.stringify(service).replace(/"/g, '&quot;')})">
                        View Details
                    </button>
                `;
                container.appendChild(serviceCard);
            });
        }

        function renderProducts() {
            const container = document.getElementById('productsContainer');
            container.innerHTML = '';
            
            window.siteData.products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-image">${product.image}</div>
                    <div class="product-title">${product.name}</div>
                    <div class="product-description">${product.description}</div>
                    <div class="product-price">${product.price}</div>
                    <button class="btn btn-primary" onclick="buyProduct('${product.name}')">
                        üõí Buy Now on WhatsApp
                    </button>
                `;
                container.appendChild(productCard);
            });
        }

        // Doctor details modal functions
        window.showDoctorDetails = function(doctor) {
            document.getElementById('doctorDetailsName').textContent = doctor.name;
            document.getElementById('doctorDetailsQualification').textContent = doctor.qualification;
            document.getElementById('doctorDetailsFees').textContent = `Consultation Fee: ${doctor.fees}`;
            document.getElementById('doctorDetailsDescription').textContent = doctor.details;
            
            // Set up book appointment button
            document.getElementById('doctorDetailsBookBtn').onclick = () => {
                bookDoctorAppointment(doctor.name);
                closeDoctorDetails();
            };
            
            document.getElementById('doctorDetailsModal').style.display = 'block';
        }

        window.closeDoctorDetails = function() {
            document.getElementById('doctorDetailsModal').style.display = 'none';
        }

        // Global functions
        window.toggleMenu = function() {
            const menu = document.getElementById('mobileMenu');
            const overlay = document.getElementById('overlay');
            menu.classList.toggle('active');
            overlay.classList.toggle('active');
        }

        window.bookAppointment = function() {
            const message = encodeURIComponent("Hello, I would like to book an appointment with Physio - The Therapeutic Moves.");
            window.open(`https://wa.me/919641568109?text=${message}`, '_blank');
        }

        window.bookDoctorAppointment = function(doctorName) {
            const message = encodeURIComponent(`Hello, I would like to book an appointment with ${doctorName} at Physio - The Therapeutic Moves.`);
            window.open(`https://wa.me/919641568109?text=${message}`, '_blank');
        }

        window.buyProduct = function(productName) {
            const message = encodeURIComponent(`I would like to buy ${productName}.`);
            window.open(`https://wa.me/919641568109?text=${message}`, '_blank');
        }

        window.showServiceDetails = function(service) {
            document.getElementById('serviceDetailsTitle').textContent = service.title;
            const content = document.getElementById('serviceDetailsContent');
            content.innerHTML = `
                <p style="margin-bottom: 1rem; color: #666;">${service.description}</p>
                <h4 style="color: #2c8577; margin-bottom: 1rem;">Available Tests & Treatments:</h4>
                ${service.tests.map(test => `
                    <div class="test-item">
                        <span>${test.name}</span>
                        <span style="font-weight: 600; color: #2c8577;">${test.price}</span>
                    </div>
                `).join('')}
            `;
            document.getElementById('serviceDetailsModal').style.display = 'block';
        }

        window.closeServiceDetails = function() {
            document.getElementById('serviceDetailsModal').style.display = 'none';
        }

        window.showAdminLogin = function() {
            document.getElementById('adminModal').style.display = 'block';
            if (document.getElementById('mobileMenu').classList.contains('active')) {
                toggleMenu();
            }
        }

        window.closeAdminModal = function() {
            document.getElementById('adminModal').style.display = 'none';
        }

        // Admin functions
        document.getElementById('adminLoginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            try {
                await signInWithEmailAndPassword(auth, username, password);
                document.getElementById('adminModal').style.display = 'none';
                document.getElementById('adminDashboard').style.display = 'block';
                document.querySelector('.main').style.display = 'none';
                loadAdminData();
            } catch (error) {
                alert('Invalid credentials');
            }
        });

        window.logout = function() {
            signOut(auth);
            document.getElementById('adminDashboard').style.display = 'none';
            document.querySelector('.main').style.display = 'block';
        }

        function loadAdminData() {
            document.getElementById('editClinicName').value = window.siteData.hero.clinicName;
            document.getElementById('editHeroTitle').value = window.siteData.hero.title;
            document.getElementById('editTagline').value = window.siteData.hero.tagline;
            document.getElementById('editPhone').value = window.siteData.hero.phone;
        }

        window.updateHero = async function() {
            const heroData = {
                clinicName: document.getElementById('editClinicName').value,
                title: document.getElementById('editHeroTitle').value,
                tagline: document.getElementById('editTagline').value,
                phone: document.getElementById('editPhone').value
            };
            
            try {
                await set(ref(database, 'site/hero'), heroData);
                window.siteData.hero = heroData;
                renderHero();
                alert('Hero section updated successfully!');
            } catch (error) {
                alert('Error updating hero section');
            }
        }

        window.addDoctor = function() {
            const name = prompt('Enter doctor name:');
            const qualification = prompt('Enter qualification:');
            const fees = prompt('Enter consultation fees:');
            const details = prompt('Enter additional details:');
            
            if (name && qualification && fees) {
                const newDoctor = {
                    id: Date.now(),
                    name,
                    qualification,
                    fees,
                    details: details || ''
                };
                
                window.siteData.doctors.push(newDoctor);
                set(ref(database, 'site/doctors'), window.siteData.doctors);
                renderDoctorsPreview();
                renderDoctors();
            }
        }

        window.addService = function() {
            const title = prompt('Enter service title:');
            const description = prompt('Enter service description:');
            const icon = prompt('Enter service icon (emoji):');
            
            if (title && description) {
                const newService = {
                    id: Date.now(),
                    title,
                    description,
                    icon: icon || 'üè•',
                    tests: []
                };
                
                window.siteData.services.push(newService);
                set(ref(database, 'site/services'), window.siteData.services);
                renderServicesPreview();
                renderServices();
            }
        }

        window.addProduct = function() {
            const name = prompt('Enter product name:');
            const description = prompt('Enter product description:');
            const price = prompt('Enter product price:');
            const image = prompt('Enter product image (emoji or URL):');
            
            if (name && description && price) {
                const newProduct = {
                    id: Date.now(),
                    name,
                    description,
                    price,
                    image: image || 'üéí'
                };
                
                window.siteData.products.push(newProduct);
                set(ref(database, 'site/products'), window.siteData.products);
                renderProductsPreview();
                renderProducts();
            }
        }

        // Initialize the site
        loadSiteData();

        // Close modals when clicking outside
        window.onclick = function(event) {
            const adminModal = document.getElementById('adminModal');
            const serviceModal = document.getElementById('serviceDetailsModal');
            const doctorModal = document.getElementById('doctorDetailsModal');
            
            if (event.target == adminModal) {
                adminModal.style.display = 'none';
            }
            if (event.target == serviceModal) {
                serviceModal.style.display = 'none';
            }
            if (event.target == doctorModal) {
                doctorModal.style.display = 'none';
            }
        }
    </script>
</body>
</html>
